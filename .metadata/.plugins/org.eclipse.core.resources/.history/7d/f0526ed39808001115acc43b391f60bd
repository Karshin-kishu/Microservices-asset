package com.example.assetservice.service;


import org.springframework.beans.factory.annotation.Value;
import org.springframework.stereotype.Service;
import org.springframework.web.client.RestTemplate;

import com.example.assetservice.dto.IntrospectResponseDTO;

@Service
public class AuthIntrospectService {
	@Value("${auth.introspect.url}")
		private String introspectUrl;

	private RestTemplate restTemplate;
	  
	public AuthIntrospectService(RestTemplate restTemplate) {
	        this.restTemplate = restTemplate;
    }
	
	public IntrospectResponseDTO introspectToken(String token) {
	    try {
	    	String url = introspectUrl + "/auth/introspect";
	    	HttpHeaders headers = new HttpHeaders();
	    	
	    	
	    	
	    }
	        return restTemplate.postForObject(introspectUrl, token, IntrospectResponseDTO.class);
	    } catch (Exception e) {
	        // Handle exceptions (e.g., log error, return default response)
	        e.printStackTrace();
	        return new IntrospectResponseDTO(); // Return a default response or handle as needed
	    }
}
